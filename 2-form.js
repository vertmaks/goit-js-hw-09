import"./assets/main-DxOmx7x6.js";const E='<div class="form-email-error-msg">Please, enter correct email</div>',f='<div class="form-error-empty-msg is-onscreen">This field is required</div>';let m={form:document.querySelector(".feedback-form"),emailInput:document.getElementById("userEmail"),textInput:document.getElementById("userMsg"),emailErrorMsg:document.querySelector(".form-email-error-msg"),emptyErrorMsg:document.querySelector(".form-error-empty-msg")};const c="feedback-form-state",d=m.form,t=m.emailInput,n=m.textInput;let i=null,s=null;function g(){const o=t.value.match(/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/);if(t.value===""){const e=t.parentElement.querySelector(".form-error-empty-msg");e&&e.remove(),t.style.borderColor="tomato",t.insertAdjacentHTML("afterend",f);const r=t.parentElement.querySelector(".form-error-empty-msg");return r.classList.add("is-onscreen"),s&&clearTimeout(s),s=setTimeout(()=>{t.style.borderColor="",r.classList.remove("is-onscreen"),r.remove()},5e3),!1}else{if(o)return t.style.borderColor="",s&&clearTimeout(s),!0;{const e=t.parentElement.querySelector(".form-email-error-msg");e&&e.remove(),t.style.borderColor="tomato",t.insertAdjacentHTML("afterend",E);const r=t.parentElement.querySelector(".form-email-error-msg");return r.classList.add("is-onscreen"),s&&clearTimeout(s),s=setTimeout(()=>{t.style.borderColor="",r.classList.remove("is-onscreen"),r.remove()},5e3),!1}}}function p(){if(n.value.trim()===""){const o=n.parentElement.querySelector(".form-error-empty-msg");o&&o.remove(),n.style.borderColor="tomato",n.insertAdjacentHTML("afterend",f);const e=n.parentElement.querySelector(".form-error-empty-msg");return e.classList.add("is-onscreen"),i&&clearTimeout(i),i=setTimeout(()=>{n.style.borderColor="",e.classList.remove("is-onscreen"),e.remove()},5e3),!1}else return n.style.borderColor="",i&&clearTimeout(i),!0}function S(o){o.preventDefault();const e=o.currentTarget,r=p(),u=g();if(!r||!u)return;const a=localStorage.getItem(c);if(a)try{const l=JSON.parse(a);console.log("Submitted data:",l)}catch{console.log("Submitted data: <invalid JSON>")}localStorage.removeItem(c),e.reset()}function v(o){const e=o.currentTarget,r=new FormData(e),u=Array.from(r.entries()).filter(([a,l])=>l&&l.trim()!=="");if(u.length>0){const a=Object.fromEntries(u);localStorage.setItem(c,JSON.stringify(a))}else localStorage.removeItem(c)}function I(){const o=localStorage.getItem(c);if(o)try{const e=JSON.parse(o);Object.keys(e).forEach(r=>{d.elements[r]&&e[r]!==void 0&&e[r]!==""&&(d.elements[r].value=e[r])})}catch{alert("Ooops... something went wrong")}}const y=m.form,b=m.emailInput,L=m.textInput;I();b.addEventListener("blur",g);L.addEventListener("blur",p);y.addEventListener("submit",S);y.addEventListener("input",v);
//# sourceMappingURL=2-form.js.map
